<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- Essential viewport meta tag for responsiveness -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Microsoft Edge compatibility -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="mobile-web-app-capable" content="yes" />

    <!-- PWA Support -->
    <meta name="theme-color" content="#1976d2" />
    <meta
      name="description"
      content="AI Application with full-stack capabilities"
    />

    <!-- Apple/Safari specific tags -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <title>Admin login</title>
  </head>
  <body>
    <h2>Admin Login</h2>

    <input id="username" placeholder="Username" /><br /><br />
    <input id="password" type="password" placeholder="Password" /><br /><br />

    <button onclick="login()">Login</button>

    <h3 id="msg"></h3>

    <script>
      const API_BASE = "https://ai-loan-prediction-a3gd.onrender.com";

      function login() {
        const username = document.getElementById("username").value;
        const password = document.getElementById("password").value;
        const msg = document.getElementById("msg");

        fetch(`${API_BASE}/login`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ username, password }),
        })
          .then((res) => res.json())
          .then((data) => {
            localStorage.setItem("token", data.token);
            window.location.href = "history.html";
          });
      }
    </script>
  </body>
</html>
